# 기능 정의서

프로젝트 정의서의 사용자 스토리를 기반으로 세부 기능을 구체적으로 정의합니다.

(⭐️ 예시 시작) 지우지 말아 주세요, 마지막 병합 후에 지우면 될 것 같아요!

## 계정 관리 사용자 스토리

### 사용자로서, 나는 서비스에 회원가입을 하고 싶습니다. 이후 로그인을 진행하여 서비스를 이용할 수 있습니다.

#### 1. 기능명 : 회원가입

- 기능 설명
  - 사용자가 회원 정보를 입력하고 서비스에 가입을 할 수 있다.
- 입력 항목
  - 이메일 : 문자열, 최대 50자 (유효성 검사 필요)
  - 이름: 문자열, 최대 50자
  - 주민등록번호: 문자열, 13자 (유효성 검사 필요)
  - 비밀번호: 문자열, 최소 10자
  - 비밀번호 확인 : 문자열, 최소 10자 (비밀번호와 일치 여부 확인 필요)

##### 1.1 사용자 액션

##### 가입

- 가입 버튼 클릭
  - 입력 항목 유효성 검사 실행
  - 유효성 검사 오류 발생시 등록 절차는 종료되며 사용자에게 오류 정보 알림
  - 유효성 검사 통과시 회원가입 API 호출
  - API 호출 성공 후 요약 정보 표시
  - 메인 화면으로 전환

```mermaid
flowchart TD
    A[가입 버튼 클릭] --> B[입력 항목 유효성 검증]
    B{유효한 입력} -- 예 --> C[회원가입 API 호출]
    B{유효한 입력} -- 아니오 --> D[오류 표시]
    D --> A
    C --> E{호출 성공}
    E -- 성공 --> F[요약 정보 표시]
    F --> G[메인 화면으로 이동]
    E -- 실패 --> H[호출 실패 정보 표시]
    H --> A
    G --> Z[종료]
```

---

- 취소 버튼 클릭
  - 메인 화면으로 전환

```mermaid
flowchart TD
    A[취소 버튼 클릭] --> B[메인 화면으로 이동]
    B --> Z[종료]
```

(⭐️ 예시 끝) 지우지 말아 주세요, 마지막 병합 후에 지우면 될 것 같아요!

(⭐️ 아래 부터 각자 작업하시면 됩니다.)

## GPS 기반 검색 사용자 스토리

### 사용자로서, 나는 현재 위치를 기준으로 가까운 맛집을 검색하고 싶습니다.

#### 1. 기능명: GPS 기반 검색

- 기능 설명
  - 현재 위치를 기반으로 음식점에 대한 정보를 제공합니다.
- 권한 요청
  - 사용자의 위치 기반 GPS 허용 : 항상 허용하기 / 앱을 사용할 때만 허용하기
- 불러올 항목
  - 가게 ID : 고유 식별자

##### 1.1 사용자 액션

- GPS 활성화
  - 사용자가 GPS를 활성화해야 지도에 현재 위치를 표시할 수 있음
- 지도 렌더링
  - 현재 위치를 기준으로 기본 줌 수준(예: 반경 1km)을 가진 지도를 띄움
- 지도 상호작용
  - 사용자가 지도를 드래그하거나 확대/축소하면 새로운 범위를 계산
- 데이터 요청
  - 사용자가 보고 있는 지도 뷰포트를 기준으로 서버에 맛집 데이터를 요청
- 핀 표시
  - 서버에서 반환된 데이터(맛집 정보)를 지도에 핀으로 표시
- 사용자 선택
  - 사용자가 핀을 클릭하면 가게 정보를 확인할 수 있음(예: 메뉴, 리뷰, 주소 등)
- 추가 상호작용
  - 관심 있는 가게의 상세 정보를 제공하거나, 다른 가게를 선택

```mermaid
flowchart TD
    A[사용자 위치 확인] -->|GPS 활성화 요청| B[현재 위치 가져오기]
    B -->|초기 위치로 지도 표시| C[지도 렌더링]
    C -->|사용자 상호작용| D[지도 이동/확대/축소]
    D -->|현재 화면 범위 확인| E[데이터 요청]
    E -->|맛집 데이터 반환| F[지도에 핀 표시]
    F -->|사용자가 핀 선택| G[가게 정보 보기]
    G -->|사용자가 관심 있음| H[메뉴, 리뷰 등 추가 정보 제공]
    G -->|사용자가 관심 없음| C
    H -->|재검색 요청| C
```

## AI 기반 추천 사용자 스토리

### 사용자로서, 나는 간단한 텍스트 입력으로 맞춤형 맛집 추천을 받고 싶습니다.

#### 2. 기능명: AI기반 추천

- 기능 설명
  - 챗봇을 통해 사용자의 요구와 선호도에 맞는 음식점 추천 서비스를 제공합니다.
- 입력 항목
  - 사용자 텍스트 입력 : 문자열, 최대 100자로 자연어 형태로 입력 가능 (예: "크리스마스에 커플이 갈 만한 분위기 좋은 성수 이탈리안 맛집 추천해줘.")

##### 2.1 사용자 액션

- 사용자 입력
  - 텍스트 입력 : ex. "크리스마스에 커플이 갈 만한 분위기 좋은 성수 이탈리안 맛집 추천해줘."
- 입력 처리
  - 자연어 처리 (NLP): 사용자의 문장에서 중요한 키워드 추출 (ex. ”크리스마스”, "커플", "성수", "이탈리안", "분위기 좋은")
- 사용자 프로필 분석
  - 사용자의 선호도 데이터, 과거 기록과 비교
- 추천 엔진 작동
  - 필터링: 위치(성수), 음식 종류(이탈리안), 분위기 및 조건
  - 데이터베이스 조회: 해당 조건에 맞는 음식점 정보 탐색
- 추천 생성
  - 음식점 3~5개 선정: 이름, 위치, 특징(분위기, 메뉴 등) 정리
- 결과 전달
  - 매장 정보와 함께 챗봇 응답 생성 후 다시 추천 요청 플래그 Boolean (True/False)

```mermaid
flowchart TD
    A[사용자 입력] -->|텍스트 입력| B[자연어 처리]
    B -->|키워드 추출| C[사용자 프로필 분석]
    C -->|선호도와 과거 기록 비교| D[추천 엔진 작동]
    D -->|필터링된 조건으로 검색| E[추천 생성]
    E -->|최종 추천 리스트 전달| F[챗봇 응답]
    F --> G{만족하십니까?}
    G -->|예| H[추천 완료]
    G -->|아니오| I[다시 추천받기]
    I -->|새로운 조건 입력 또는 재검색| D
```

## 맛집 카테고리 검색 사용자 스토리

### 사용자로서, 나는 여러 방송 속에 나온 맛집을 보고 싶습니다.

#### 3. 기능명: 카테고리 기반 검색

- 기능 설명
  - 제공되는 여러 카테고리 중 사용자가 원하는 분류를 직접 선택해 맛집 정보를 탐색할 수 있게 합니다.
- 선택 항목
  - 분류 label : 카테고리 구분 위한 데이터베이스 속 label
  - 가게 ID : 고유 식별자

##### 3.1 사용자 액션

- 탭 선택
  - 첫 단계에서 방송/유튜브/가이드북 또는 음식 분류를 선택
- 세부 선택
  - 방송/유튜브/가이드북 선택 시: 방송/유튜브/가이드북 세부 선택 이후 음식 분류 선택 단계로 진행
  - 음식 분류 선택 시: 음식 분류 세부 선택 이후 방송/유튜브/가이드북 선택 단계로 진행
- 리스트 표시
  - 선택한 세부 카테고리에 따라 API 호출 후 맛집 리스트를 표시
- 가게 정보 확인
  - 리스트 중 하나를 클릭하면 가게 상세 정보를 확인
- 추가 정보 확인 및 반복 탐색
  - 사용자 추가 이벤트 요청에 따라 메뉴, 리뷰 등을 제공하거나 다른 카테고리로 이동해 탐색 가능

```mermaid
flowchart TD
    A[홈 화면] --> B[탭 선택: 방송/카테고리 또는 음식 분류]

    B -->|방송/카테고리 선택| C[방송/유튜브/가이드북 세부 선택]
    C -->|다음 음식 분류 선택| D[음식 분류 세부 선택]
    D -->|API 호출| E[맛집 리스트 표시]

    B -->|음식 분류 선택| F[음식 분류 세부 선택]
    F -->|다음 방송/카테고리 선택| G[방송/유튜브/가이드북 세부 선택]
    G -->|API 호출| E[맛집 리스트 표시]

    E -->|API 호출| H[가게 상세 정보 보기]
    H -->|추가 정보 확인| I[지도/리뷰/재탐색]
    H -->|다른 맛집 보기| B
    I -->|다른 카테고리로 이동| B
```
